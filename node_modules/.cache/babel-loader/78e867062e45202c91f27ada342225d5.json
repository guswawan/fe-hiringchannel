{"ast":null,"code":"var _jsxFileName = \"/home/guswawan/dev/arka/fe-hiringchannel/src/component/SignIn.jsx\";\nimport React, { Component } from 'react';\nimport { Grid, TextField, Button } from '@material-ui/core/';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport getAuth from '../helpers/auth';\nimport logo from \"../image/Arkademy-Putih.svg\";\nimport hiring from '../image/vector-hiring.png';\nimport '../styles/SignIn.css';\n\nclass SignIn extends Component {\n  constructor() {\n    super();\n\n    this.checkIdUser = (id_user, role) => {\n      const auth = getAuth();\n      console.log(\"ID USER \", id_user);\n      console.log(\"ROLE \", role);\n\n      if (role === 'engineer') {\n        axios.get('http://localhost:5000/v1/engineer', {\n          headers: {\n            Authorization: `Bearer ${auth.token}`\n          }\n        }).then(res => {\n          console.log(\"resss \", res);\n          const data = res.data.result.filter(res => {\n            console.log(\"ressss \", res);\n            res.id_user == id_user;\n          }); // if(data.length > 0){\n          //   this.props.history.push(\"/engineer\")\n          // } else {\n          //   console.log(\"Data not found.\")\n          // }\n        });\n      } else if (role === 'company') {\n        axios.get('http://localhost:5000/v1/company', {\n          headers: {\n            Authorization: `Bearer ${auth.token}`\n          }\n        }).then(res => {\n          const data = res.data.result.filter(res => {\n            res.id_user == id_user;\n          });\n\n          if (data.length > 0) {\n            this.props.history.push(\"/home\");\n          } else {\n            console.log(\"Data not found.\");\n          }\n        });\n      }\n    };\n\n    this.username = e => {\n      console.log(\"value \", e.target.value);\n      this.setState({\n        username: e.target.value\n      });\n    };\n\n    this.password = e => {\n      console.log(\"value \", e.target.value);\n      this.setState({\n        password: e.target.value\n      });\n    };\n\n    this.role = e => {\n      console.log(\"value \", e.target.value);\n      this.setState({\n        role: e.target.value\n      });\n    };\n\n    this.state = {\n      username: null,\n      password: null,\n      role: null,\n      token: null,\n      id_user: null,\n      message: ''\n    };\n  }\n\n  handleLogin(e) {\n    e.preventDefault();\n    const url = 'http://localhost:5000/v1/user/login';\n    const data = {\n      username: this.state.username,\n      password: this.state.password,\n      role: this.state.engineer\n    };\n    axios.post(url, data).then(res => {\n      const success = res.data.success;\n      console.log(\"Success \", res.data);\n\n      if (success === true) {\n        Swal.fire({\n          title: 'Login Success.',\n          // text: 'Your account has been created.',\n          icon: 'success'\n        });\n      } else if (success === false) {\n        Swal.fire({\n          title: 'Login Failed.',\n          // text: 'This account already exist.',\n          icon: 'warning'\n        });\n      }\n\n      this.setState({\n        username: res.data.data.username,\n        role: res.data.data.role,\n        token: res.data.token,\n        id_user: res.data.data.id_user,\n        message: res.data.data.message\n      });\n      console.log(\"token \", res.data.token);\n      localStorage.setItem('token', this.state.token);\n      localStorage.setItem('id_user', this.state.id_user);\n      localStorage.setItem('username', this.state.username);\n      localStorage.setItem('role', this.state.role);\n      console.log(\"localStorage \", res.data);\n      this.checkIdUser(this.state.id_user, this.state.role); // if(this.state.role === 'company'){\n      //   this.props.history.push(\"/home\")\n      // } else if(this.state.role === 'engineer'){\n      //   this.props.history.push(\"/engineer\")\n      // }\n    }).catch(err => {\n      console.log(err);\n      this.setState({\n        message: 'Login failed.'\n      });\n    });\n  } // componentDidUpdate = (res) => {\n  //   if (this.state.message === \"Engineer login success..\") {\n  //   }\n  // }\n\n\n  render() {\n    return React.createElement(Grid, {\n      container: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      sm: 7,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"left-side\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: logo,\n      className: \"logo-white\",\n      alt: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: hiring,\n      className: \"logo-hiring\",\n      alt: \"hiring\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"wrap-caption\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Hire expert freelancers for any jobs, online\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Millions of small businesses use Frelancer to turn their ideas into reality.\")))), React.createElement(Grid, {\n      item: true,\n      sm: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"field-username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Username\"), React.createElement(TextField, {\n      fullWidth: true,\n      id: \"username\",\n      label: \"Enter your username..\",\n      onChange: this.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"field-password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Password\"), React.createElement(TextField, {\n      fullWidth: true,\n      type: \"password\",\n      id: \"password\",\n      label: \"Enter your password..\",\n      onChange: this.password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })), React.createElement(Link, {\n      to: \"/login\",\n      className: \"forgot-password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Forgot Password?\"), React.createElement(\"div\", {\n      className: \"button-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: e => this.handleLogin(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Login\")), React.createElement(Link, {\n      to: \"/register\",\n      className: \"button-register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"contained\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Register\"))))));\n  }\n\n}\n\nexport default SignIn;","map":{"version":3,"sources":["/home/guswawan/dev/arka/fe-hiringchannel/src/component/SignIn.jsx"],"names":["React","Component","Grid","TextField","Button","Link","axios","Swal","getAuth","hiring","SignIn","constructor","checkIdUser","id_user","role","auth","console","log","get","headers","Authorization","token","then","res","data","result","filter","length","props","history","push","username","e","target","value","setState","password","state","message","handleLogin","preventDefault","url","engineer","post","success","fire","title","icon","localStorage","setItem","catch","err","render","logo"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Grid, TextField, Button } from '@material-ui/core/'\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport getAuth from '../helpers/auth';\nimport logo from '../image/Arkademy-Putih.svg';\nimport hiring from '../image/vector-hiring.png';\nimport '../styles/SignIn.css';\n\n\n\nclass SignIn extends Component {\n\n  constructor(){\n    super()\n    this.state = {\n      username: null,\n      password: null,\n      role: null,\n      token: null,\n      id_user: null,\n      message:''\n    }\n  }\n\n\n  checkIdUser = (id_user, role) => {\n    const auth = getAuth();\n    console.log(\"ID USER \",id_user)\n    console.log(\"ROLE \",role)\n    if(role === 'engineer'){\n      axios.get('http://localhost:5000/v1/engineer', { headers: { Authorization: `Bearer ${auth.token}`}})\n      .then(res => {\n        console.log(\"resss \",res)\n        const data = res.data.result.filter(res => {\n          console.log(\"ressss \",res)\n          res.id_user == id_user\n        })\n        // if(data.length > 0){\n        //   this.props.history.push(\"/engineer\")\n        // } else {\n        //   console.log(\"Data not found.\")\n        // }\n      })\n    } else if (role === 'company'){\n      axios.get('http://localhost:5000/v1/company', { headers: { Authorization: `Bearer ${auth.token}`}})\n      .then(res => {\n        const data = res.data.result.filter(res => {\n          res.id_user == id_user\n        })\n        if(data.length > 0){\n          this.props.history.push(\"/home\")\n        }else{\n          console.log(\"Data not found.\")\n        } \n      })\n    }\n   }\n\n  username = (e) => {\n    console.log(\"value \",e.target.value)\n    this.setState({username: e.target.value})\n  }\n  password = (e) => {\n    console.log(\"value \",e.target.value)\n    this.setState({password: e.target.value})\n  }\n  role = (e) => {\n    console.log(\"value \",e.target.value)\n    this.setState({role: e.target.value})\n  }\n\n\n  handleLogin(e){\n    e.preventDefault()\n    const url = 'http://localhost:5000/v1/user/login'\n    const data = {\n      username: this.state.username,\n      password: this.state.password,\n      role: this.state.engineer,\n    }\n    axios.post(url, data)\n    .then(res => {\n\n      const success = res.data.success\n      console.log(\"Success \", res.data)\n      if (success === true) {\n        Swal.fire({title: 'Login Success.',\n        // text: 'Your account has been created.',\n        icon: 'success'})\n      } else if (success === false) {\n        Swal.fire({title: 'Login Failed.',\n        // text: 'This account already exist.',\n        icon: 'warning'})\n      }\n      \n      this.setState({\n        username: res.data.data.username,\n        role: res.data.data.role,\n        token: res.data.token,\n        id_user: res.data.data.id_user,\n        message: res.data.data.message\n      })\n      console.log(\"token \", res.data.token)\n      localStorage.setItem('token', this.state.token)\n      localStorage.setItem('id_user', this.state.id_user)\n      localStorage.setItem('username', this.state.username)\n      localStorage.setItem('role', this.state.role)\n      console.log(\"localStorage \",res.data)\n      this.checkIdUser(this.state.id_user, this.state.role)\n      // if(this.state.role === 'company'){\n      //   this.props.history.push(\"/home\")\n      // } else if(this.state.role === 'engineer'){\n      //   this.props.history.push(\"/engineer\")\n      // }\n    })\n    .catch(err => {\n      console.log(err)\n      this.setState({\n        message: 'Login failed.'\n      })\n    })\n  }\n\n  // componentDidUpdate = (res) => {\n  //   if (this.state.message === \"Engineer login success..\") {\n\n  //   }\n  // }\n\n\n    render() {\n      return (\n        <Grid container>\n          <Grid item sm={7}>\n            <div className=\"left-side\">\n              <img src={logo} className=\"logo-white\" alt=\"logo\"></img>\n              <img src={hiring} className=\"logo-hiring\" alt=\"hiring\"></img>\n              <div className=\"wrap-caption\">\n                <h2><b>Hire expert freelancers for any jobs, online</b></h2>\n                <p>Millions of small businesses use Frelancer to turn their ideas into reality.</p>\n              </div>\n            </div>\n          </Grid>\n\n          <Grid item sm={5}>\n            <h1>Login</h1>\n            <form>\n            <div className=\"login-group\">\n              <div className=\"field-username\">\n                <label>Username</label>\n                <TextField fullWidth id=\"username\" label=\"Enter your username..\"\n                onChange={this.username} />\n              </div>\n              <div className=\"field-password\">\n                <label>Password</label>\n                <TextField fullWidth type=\"password\" id=\"password\" label=\"Enter your password..\" \n                onChange={this.password}/>\n              </div>\n              <Link to='/login' className=\"forgot-password\">Forgot Password?</Link>\n              <div className=\"button-login\">\n                  <Button variant=\"contained\" color=\"primary\"\n                  onClick={(e) => this.handleLogin(e)}\n                  >\n                    Login\n                  </Button>\n              </div>\n              {/* <div className=\"button-register\"> */}\n                <Link to=\"/register\" className=\"button-register\">\n                  <Button variant=\"contained\" >\n                    Register\n                  </Button>\n                </Link>\n              {/* </div> */}\n            </div>\n            </form>\n          </Grid>\n        </Grid>\n      )\n    }\n  }\n\nexport default SignIn\n"]},"metadata":{},"sourceType":"module"}