{"ast":null,"code":"var _jsxFileName = \"/home/guswawan/dev/arka/fe-hiringchannel/src/component/Home.jsx\";\nimport React, { Component, Fragment } from 'react';\nimport { Grid } from '@material-ui/core/';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InputBase from '@material-ui/core/InputBase';\nimport TypoGraphy from '@material-ui/core/Typography';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport chat from '../image/chat.png';\nimport bell from '../image/bell.png';\nimport logo from '../image/arkademy-logo.png';\nimport axios from 'axios';\nimport getAuth from '../helpers/auth';\nimport Cards from './Cards';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport SortIcon from '@material-ui/icons/Sort'; // import '../styles/CardList.css';\n\nimport '../styles/Home.css';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setData = () => {\n      this.getFetch(`http://localhost:5000/v1/engineer?limit=${this.state.limit}&page=${this.state.page}`);\n    };\n\n    this.handleProject = () => {\n      let totalProject = Math.floor(Math.random() * 100);\n      this.setState({\n        totalProject\n      });\n    };\n\n    this.handleRate = () => {\n      let totalRate = 60 + Math.floor(Math.random() * 30);\n      this.setState({\n        totalRate\n      });\n    };\n\n    this.sortAscending = () => {\n      const data = this.state.data;\n      console.log(\"DATA \", data);\n      data.sort((a, b) => a - b);\n      this.setState({\n        data\n      });\n    };\n\n    this.sortDescending = () => {\n      const data = this.state.data;\n      data.sort((a, b) => a - b).reverse();\n      this.setState({\n        data\n      });\n    };\n\n    this.handleSearch = e => {\n      console.log(\"VALUES \", e.target.value);\n      this.setState({\n        search: e.target.value\n      });\n    };\n\n    this.handlePageNext = e => {\n      let page = this.state.page;\n      this.setState({\n        page: page + 1\n      });\n      console.log(\"PAGE \", this.state.page);\n    };\n\n    this.handlePagePrevious = e => {\n      let page = this.state.page;\n\n      if (page > 1) {\n        this.setState({\n          page: page - 1\n        });\n      } else {\n        this.setState({\n          page: 1\n        });\n      }\n\n      console.log(\"PAGE \", this.state.page);\n    };\n\n    this.nextPage = async e => {\n      await this.handlePageNext(e);\n      this.setData(this.state.limit, this.state.page);\n    };\n\n    this.previousPage = async e => {\n      await this.handlePagePrevious(e);\n      this.setData(this.state.limit, this.state.page);\n    };\n\n    this.handleSignout = e => {\n      this.setState({\n        token: ''\n      });\n      localStorage.clear();\n    };\n\n    this.getFetch = url => {\n      const auth = getAuth();\n      console.log(\"Get Aouth \", auth);\n      console.log(\"Get Aouth Role\", auth.role);\n      const authRole = auth.role;\n\n      if (authRole === 'company') {\n        axios.get(url, {\n          headers: {\n            Authorization: `Bearer ${auth.token}`\n          }\n        }).then(res => {\n          console.log(\"res axios \", res.data);\n          this.setState({\n            data: res.data.result\n          });\n        });\n      } else if (authRole === 'engineer') {\n        axios.get('http://localhost:5000/v1/engineer/profile', {\n          headers: {\n            Authorization: `Bearer ${auth.token}`\n          }\n        }).then(res => {\n          console.log(\"res axios ke-2 \", res.data.data);\n          this.setState({\n            data: res.data.data\n          });\n        }).catch(err => {\n          console.log(err);\n          this.setState({\n            data: 'Not Found.'\n          });\n        });\n      }\n    };\n\n    this.state = {\n      data: [],\n      search: '',\n      token: localStorage.getItem('token'),\n      page: 1,\n      limit: 5,\n      sortBy: 'name',\n      order: 'asc',\n      totalProject: '18',\n      totalRate: '89%'\n    };\n  }\n\n  componentDidMount() {\n    this.getFetch(`http://localhost:5000/v1/engineer?limit=${this.state.limit}&page=${this.state.page}`);\n  }\n\n  render() {\n    if (!this.state.token) {\n      this.props.history.push('/login');\n    }\n\n    let filtered = this.state.data.filter(data => {\n      return data.skill && data.name_engineer.toLowerCase().indexOf(this.state.search.toLowerCase()) !== -1;\n    });\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(AppBar, {\n      position: \"fixed\",\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(Toolbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"nav-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: logo,\n      className: \"logo\",\n      alt: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(SearchIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(InputBase, {\n      type: \"text\",\n      placeholder: \"Search\\u2026\",\n      value: this.state.search,\n      onChange: this.handleSearch.bind(),\n      inputProps: {\n        'aria-label': 'search'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"btn-home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"Home\"), React.createElement(Button, {\n      className: \"user-detail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"U\"), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"User\")), React.createElement(TypoGraphy, {\n      className: \"typo-wrap\",\n      variant: \"inherit\",\n      gutterbottom: \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"hr\", {\n      width: \"1\",\n      size: \"40\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: chat,\n      className: \"chat\",\n      alt: \"chat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: bell,\n      className: \"notif\",\n      alt: \"bell notif\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    })), React.createElement(Button, {\n      onClick: this.handleSignout.bind(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Logout\"))))), React.createElement(Grid, {\n      className: \"sort\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Sort \", React.createElement(SortIcon, {\n      onClick: this.sortDescending,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      className: \"map-home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, filtered && filtered.map(data => {\n      return React.createElement(Cards, {\n        key: data.id,\n        name: data.name_engineer,\n        desc: data.description,\n        skill: data.skill,\n        project: this.totalProject,\n        rate: this.totalRate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      });\n    })), React.createElement(\"div\", {\n      className: \"button-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(ButtonGroup, {\n      variant: \"text\",\n      \"aria-label\": \"contained primary button group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(Button, {\n      name: \"prev\",\n      onClick: this.previousPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"Prev\"), React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, this.state.page), React.createElement(Button, {\n      name: \"next\",\n      onClick: this.nextPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"Next\"))));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/guswawan/dev/arka/fe-hiringchannel/src/component/Home.jsx"],"names":["React","Component","Fragment","Grid","AppBar","Toolbar","SearchIcon","InputBase","TypoGraphy","Avatar","Button","chat","bell","logo","axios","getAuth","Cards","ButtonGroup","SortIcon","Home","constructor","props","setData","getFetch","state","limit","page","handleProject","totalProject","Math","floor","random","setState","handleRate","totalRate","sortAscending","data","console","log","sort","a","b","sortDescending","reverse","handleSearch","e","target","value","search","handlePageNext","handlePagePrevious","nextPage","previousPage","handleSignout","token","localStorage","clear","url","auth","role","authRole","get","headers","Authorization","then","res","result","catch","err","getItem","sortBy","order","componentDidMount","render","history","push","filtered","filter","skill","name_engineer","toLowerCase","indexOf","bind","map","id","description"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { Grid } from '@material-ui/core/';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InputBase from '@material-ui/core/InputBase';\nimport TypoGraphy from '@material-ui/core/Typography';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport chat from '../image/chat.png';\nimport bell from '../image/bell.png';\nimport logo from '../image/arkademy-logo.png';\nimport axios from 'axios';\nimport getAuth from '../helpers/auth';\nimport Cards from './Cards';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport SortIcon from '@material-ui/icons/Sort';\n// import '../styles/CardList.css';\n\nimport '../styles/Home.css';\n\nclass Home extends Component {\n    constructor(props) {\n      super(props)\n      this.state = {\n          data: [],\n          search: '',\n          token: localStorage.getItem('token'),\n          page: 1,\n          limit: 5,\n          sortBy: 'name',\n          order: 'asc',\n          totalProject: '18',\n          totalRate: '89%'\n      }\n     \n    }\n \n\n    setData = () => {\n      this.getFetch(`http://localhost:5000/v1/engineer?limit=${this.state.limit}&page=${this.state.page}`)\n    }\n\n    handleProject = () => {\n      let totalProject = Math.floor(Math.random()*100)\n      this.setState({totalProject})\n    }\n\n    handleRate = () => {\n      let totalRate = 60 + (Math.floor(Math.random()*30))\n      this.setState({totalRate})\n    }\n\n    sortAscending = () => {\n      const { data } = this.state;\n      console.log(\"DATA \",data)\n      data.sort((a, b) => a - b)\n      this.setState({ data })\n    }\n\n    sortDescending = () => {\n      const { data } = this.state;\n      data.sort((a, b) => a-b).reverse()\n      this.setState({ data })\n    }\n\n    handleSearch = (e) => {\n      console.log(\"VALUES \", e.target.value)\n      this.setState({search: e.target.value})\n    }\n\n    handlePageNext = (e) => {\n      let page = this.state.page\n      this.setState({page: page + 1})\n      console.log(\"PAGE \", this.state.page)\n    }\n\n    handlePagePrevious = (e) => {\n      let page = this.state.page;\n      if(page > 1){\n        this.setState({\n          page: page-1\n        })\n      } else {\n        this.setState({\n          page:1\n        })\n      }\n      console.log(\"PAGE \",this.state.page)\n    }\n\n    nextPage = async (e) => {\n      await this.handlePageNext(e);\n      this.setData(this.state.limit, this.state.page)\n    }\n\n    previousPage = async (e) => {\n      await this.handlePagePrevious(e);\n      this.setData(this.state.limit, this.state.page)\n    }\n\n    handleSignout = (e) => {\n      this.setState({ token: '' });\n      localStorage.clear();\n    }\n\n    getFetch = (url) =>{\n        const auth = getAuth();\n        console.log(\"Get Aouth \",auth)\n        console.log(\"Get Aouth Role\",auth.role)\n        const authRole = auth.role\n        if (authRole === 'company') {\n            axios.get(url, { headers: { Authorization: `Bearer ${auth.token}`}})\n            .then(res => {\n                console.log(\"res axios \",res.data)\n                this.setState({\n                    data: res.data.result\n                    \n                })\n            })\n        } else if (authRole === 'engineer') {\n            axios.get('http://localhost:5000/v1/engineer/profile', { headers: { Authorization: `Bearer ${auth.token}`}})\n            .then(res => {\n                console.log(\"res axios ke-2 \", res.data.data)\n                this.setState({\n                    data:res.data.data\n                })\n            })\n            .catch(err => {\n                console.log(err)\n                this.setState({\n                  data: 'Not Found.'\n                })\n            })\n        }\n    }\n\n    componentDidMount(){\n      this.getFetch(`http://localhost:5000/v1/engineer?limit=${this.state.limit}&page=${this.state.page}`)\n    }\n\n    render() {\n      \n      if (!this.state.token) {\n        this.props.history.push('/login');\n      }\n\n\n      let filtered = this.state.data.filter(\n        (data) => {\n          return data.skill&&data.name_engineer.toLowerCase().indexOf(this.state.search.toLowerCase()) !== -1;\n        }\n      )\n\n      return (\n        <Fragment>\n          <AppBar position=\"fixed\" color=\"inherit\">\n            <Toolbar>\n              <div className=\"nav-group\">\n                <img src={logo} className=\"logo\" alt=\"logo\" />\n                <div className=\"search\">\n                  <SearchIcon />\n                  <InputBase\n                    type=\"text\"\n                    placeholder=\"Searchâ€¦\"\n                     value={this.state.search}\n                    onChange={this.handleSearch.bind()}\n                    inputProps={{ 'aria-label': 'search' }}\n                  />\n                </div>\n                <div className=\"home\">\n                \n                  <Button className=\"btn-home\">Home</Button>\n            \n                  <Button className=\"user-detail\">\n                      <Avatar>U</Avatar>\n                      <h4>User</h4>\n                  </Button>\n                  <TypoGraphy className=\"typo-wrap\" variant=\"inherit\" gutterbottom=\"true\">\n                      <hr width=\"1\" size=\"40\" />\n                      <img src={chat} className=\"chat\" alt=\"chat\"></img>\n                      <img src={bell} className=\"notif\" alt=\"bell notif\"></img>\n                  </TypoGraphy>\n                  <Button onClick={this.handleSignout.bind()}\n                  >Logout</Button>\n                </div>\n              </div>\n            </Toolbar>\n          </AppBar>\n\n          {/* <CardList /> */}\n      \n          <Grid className=\"sort\">\n            {/* <Button onClick={this.sortAscending}>ASC</Button> */}\n            Sort <SortIcon onClick={this.sortDescending} />\n            {/*<Button onClick={this.sortDescending}>Sort</Button>*/}\n          </Grid>\n          <Grid className=\"map-home\">\n\n            {\n                filtered && filtered.map(data => {\n                    return <Cards key={data.id} name={data.name_engineer}\n                    desc={data.description} skill={data.skill} project={this.totalProject} rate={this.totalRate}/>\n                })\n            }\n            \n          </Grid>\n           \n         \n  \n          <div className=\"button-page\">\n            <ButtonGroup \n              variant=\"text\" \n              aria-label=\"contained primary button group\">\n              <Button \n                name=\"prev\"\n                onClick={this.previousPage}\n                >Prev</Button>\n              <Button>{this.state.page}</Button>\n              <Button \n              name=\"next\"\n              onClick={this.nextPage}>Next</Button>\n            </ButtonGroup>\n          </div>\n        \n        </Fragment>\n      )\n    }\n}\n\n\nexport default Home"]},"metadata":{},"sourceType":"module"}