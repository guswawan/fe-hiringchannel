{"ast":null,"code":"var _jsxFileName = \"/home/guswawan/dev/arka/fe-hiringchannel/src/component/Engineer.jsx\";\nimport React, { Component, Fragment } from 'react';\nimport { Grid, TextField } from '@material-ui/core/';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InputBase from '@material-ui/core/InputBase';\nimport TypoGraphy from '@material-ui/core/Typography';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport chat from '../image/chat.png';\nimport bell from '../image/bell.png';\nimport logo from '../image/arkademy-logo.png';\nimport axios from 'axios';\nimport getAuth from '../helpers/auth';\nimport Cards from './Cards';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport '../styles/Engineer.css';\nimport Swal from 'sweetalert2';\n\nclass Engineer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setData = () => {\n      this.getFetch(`http://localhost:5000/v1/engineer?limit=${this.state.limit}&page=${this.state.page}`);\n    };\n\n    this.handleSearch = e => {\n      console.log(\"VALUES \", e.target.value);\n      this.setState({\n        search: e.target.value\n      });\n    };\n\n    this.handleSignout = e => {\n      this.setState({\n        token: ''\n      });\n      localStorage.clear();\n    };\n\n    this.getFetch = url => {\n      const auth = getAuth();\n      console.log(\"Get Aouth \", auth);\n      console.log(\"Get Aouth Role\", auth.role);\n      const authRole = auth.role;\n\n      if (authRole === 'company') {\n        axios.get(url, {\n          headers: {\n            Authorization: `Bearer ${auth.token}`\n          }\n        }).then(res => {\n          console.log(\"res axios \", res.data);\n          this.setState({\n            data: res.data.result\n          });\n        });\n      } else if (authRole === 'engineer') {\n        axios.get('http://localhost:5000/v1/engineer/profile', {\n          headers: {\n            Authorization: `Bearer ${auth.token}`\n          }\n        }).then(res => {\n          console.log(\"res axios ke-2 \", res.data.data);\n          this.setState({\n            data: res.data.data\n          });\n        }).catch(err => {\n          console.log(err);\n          this.setState({\n            data: 'Not Found.'\n          });\n        });\n      }\n    };\n\n    this.handlePatch = () => {\n      const auth = getAuth();\n      const username = auth.username;\n      const token = auth.token;\n      const url = `http://localhost:5000/v1/engineer/` + parseInt(this.state.id);\n      const data = {\n        name: this.state.name,\n        description: this.state.description,\n        location: this.state.location,\n        birth: this.state.birth\n      };\n      const headers = {\n        Authorization: `Bearer ${auth.token}`\n      };\n      axios.patch(url, null, {\n        headers: headers,\n        params: data\n      }).then(res => {\n        Swal.fire({\n          icon: 'success',\n          title: 'Success',\n          text: 'Profile Updated.'\n        });\n        this.getFetch('http://localhost:5000/v1/engineer');\n      }).catch(err => {\n        Swal.fire({\n          icon: 'error',\n          title: 'error',\n          text: 'Update Failed.'\n        });\n      });\n    };\n\n    this.state = {\n      data: [],\n      id: '',\n      name: localStorage.getItem('username'),\n      description: '',\n      location: '',\n      birth: '',\n      skill: '',\n      search: '',\n      token: localStorage.getItem('token'),\n      page: 1,\n      limit: 5,\n      sortBy: 'name',\n      order: 'asc'\n    };\n  }\n\n  componentDidMount() {\n    this.getFetch(`http://localhost:5000/v1/engineer?limit=${this.state.limit}&page=${this.state.page}`);\n  }\n\n  render() {\n    if (!this.state.token) {\n      this.props.history.push('/login');\n    } //Filter (search)\n    // let filtered = this.state.data.filter(\n    //   (data) => {\n    //     return data.skill&&data.name_engineer.toLowerCase().indexOf(this.state.search.toLowerCase()) !== -1;\n    //   }\n    // )\n\n\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(AppBar, {\n      position: \"fixed\",\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(Toolbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"nav-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: logo,\n      className: \"logo\",\n      alt: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(SearchIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(InputBase, {\n      type: \"text\",\n      placeholder: \"Search\\u2026\",\n      value: this.state.search,\n      onChange: this.handleSearch.bind(),\n      inputProps: {\n        'aria-label': 'search'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"btn-home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"Home\"), React.createElement(Button, {\n      className: \"user-detail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"U\"), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"User\")), React.createElement(TypoGraphy, {\n      className: \"typo-wrap\",\n      variant: \"inherit\",\n      gutterbottom: \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"hr\", {\n      width: \"1\",\n      size: \"40\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: chat,\n      className: \"chat\",\n      alt: \"chat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: bell,\n      className: \"notif\",\n      alt: \"bell notif\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    })), React.createElement(Button, {\n      onClick: this.handleSignout.bind(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Logout\"))))), React.createElement(Grid, {\n      className: \"map\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, this.state.data.map(data => {\n      return React.createElement(Cards, {\n        key: data.id,\n        name: data.name_engineer,\n        desc: data.description,\n        skill: data.skill,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      });\n    }), React.createElement(\"div\", {\n      className: \"wrap-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"group-form-editprofile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"Edit profile\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, \"Companies on Hiring Channel will get to know you with the info below\"), React.createElement(\"div\", {\n      className: \"form-editprofile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      label: \"Full Name\",\n      id: \"outlined-size-small\",\n      defaultValue: this.state.name,\n      variant: \"outlined\",\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      label: \"Description\",\n      id: \"outlined-size-small\",\n      defaultValue: this.state.description,\n      variant: \"outlined\",\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      label: \"Location\",\n      id: \"outlined-size-small\",\n      defaultValue: this.state.location,\n      variant: \"outlined\",\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"outlined-size-small\",\n      type: \"date\",\n      size: \"small\",\n      variant: \"outlined\",\n      label: \"Date of birth\",\n      InputLabelProps: {\n        shrink: true\n      } // onChange={handleChange('birth')}\n      ,\n      defaultValue: this.state.birth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"btn-editprofile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(ButtonGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"text\",\n      color: \"secondary\" //onClick={this.handleRegister}\n      // onClick={this.continue}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, \"Cancel\\xA0\"), React.createElement(Button, {\n      variant: \"contained\",\n      color: \"inherit\" //onClick={this.handleRegister}\n      // onClick={this.continue}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, \"Done\")))), React.createElement(\"div\", {\n      className: \"group-form-editprofile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, \"Your Skill\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, \"Upgrade more your skill on Hiring Channel, insert below\"), React.createElement(\"div\", {\n      className: \"form-editprofile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      label: \"Insert your skill\",\n      id: \"outlined-size-small\",\n      defaultValue: this.state.skill,\n      variant: \"outlined\",\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"btn-editprofile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, React.createElement(ButtonGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"contained\",\n      color: \"inherit\" //onClick={this.handleRegister}\n      // onClick={this.continue}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, \"Done\")))))));\n  }\n\n}\n\nexport default Engineer;","map":{"version":3,"sources":["/home/guswawan/dev/arka/fe-hiringchannel/src/component/Engineer.jsx"],"names":["React","Component","Fragment","Grid","TextField","AppBar","Toolbar","SearchIcon","InputBase","TypoGraphy","Avatar","Button","chat","bell","logo","axios","getAuth","Cards","ButtonGroup","Swal","Engineer","constructor","props","setData","getFetch","state","limit","page","handleSearch","e","console","log","target","value","setState","search","handleSignout","token","localStorage","clear","url","auth","role","authRole","get","headers","Authorization","then","res","data","result","catch","err","handlePatch","username","parseInt","id","name","description","location","birth","patch","params","fire","icon","title","text","getItem","skill","sortBy","order","componentDidMount","render","history","push","bind","map","name_engineer","shrink"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { Grid, TextField } from '@material-ui/core/';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InputBase from '@material-ui/core/InputBase';\nimport TypoGraphy from '@material-ui/core/Typography';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport chat from '../image/chat.png';\nimport bell from '../image/bell.png';\nimport logo from '../image/arkademy-logo.png';\nimport axios from 'axios';\nimport getAuth from '../helpers/auth';\nimport Cards from './Cards';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport '../styles/Engineer.css';\nimport Swal from 'sweetalert2';\n\nclass Engineer extends Component {\n    constructor(props) {\n      super(props)\n      this.state = {\n          data: [],\n          id:'',\n          name:localStorage.getItem('username'),\n          description:'',\n          location:'',\n          birth:'',\n          skill:'',\n          search: '',\n          token: localStorage.getItem('token'),\n          page: 1,\n          limit: 5,\n          sortBy: 'name',\n          order: 'asc',\n      }     \n    }\n \n\n    setData = () => {\n      this.getFetch(`http://localhost:5000/v1/engineer?limit=${this.state.limit}&page=${this.state.page}`)\n    }\n\n    // sortAscending = () => {\n    //   const { data } = this.state;\n    //   console.log(\"DATA \",data)\n    //   data.sort((a, b) => a - b)\n    //   this.setState({ data })\n    // }\n\n    // sortDescending = () => {\n    //   const { data } = this.state;\n    //   data.sort((a, b) => a-b).reverse()\n    //   this.setState({ data })\n    // }\n\n    handleSearch = (e) => {\n      console.log(\"VALUES \", e.target.value)\n      this.setState({search: e.target.value})\n    }\n\n    // handlePageNext = (e) => {\n    //   let page = this.state.page\n    //   this.setState({page: page + 1})\n    //   console.log(\"PAGE \", this.state.page)\n    // }\n\n    // handlePagePrevious = (e) => {\n    //   let page = this.state.page;\n    //   if(page > 1){\n    //     this.setState({\n    //       page: page-1\n    //     })\n    //   } else {\n    //     this.setState({\n    //       page:1\n    //     })\n    //   }\n    //   console.log(\"PAGE \",this.state.page)\n    // }\n\n    // nextPage = async (e) => {\n    //   await this.handlePageNext(e);\n    //   this.setData(this.state.limit, this.state.page)\n    // }\n\n    // previousPage = async (e) => {\n    //   await this.handlePagePrevious(e);\n    //   this.setData(this.state.limit, this.state.page)\n    // }\n\n    handleSignout = (e) => {\n      this.setState({ token: '' });\n      localStorage.clear();\n    }\n\n    getFetch = (url) =>{\n        const auth = getAuth();\n        console.log(\"Get Aouth \",auth)\n        console.log(\"Get Aouth Role\",auth.role)\n        const authRole = auth.role\n        if (authRole === 'company') {\n            axios.get(url, { headers: { Authorization: `Bearer ${auth.token}`}})\n            .then(res => {\n                console.log(\"res axios \",res.data)\n                this.setState({\n                    data: res.data.result \n                })\n            })\n        } else if (authRole === 'engineer') {\n            axios.get('http://localhost:5000/v1/engineer/profile', { headers: { Authorization: `Bearer ${auth.token}`}})\n            .then(res => {\n                console.log(\"res axios ke-2 \", res.data.data)\n                this.setState({\n                    data:res.data.data\n                })\n            })\n            .catch(err => {\n                console.log(err)\n                this.setState({\n                  data: 'Not Found.'\n                })\n            })\n        }\n    }\n\n    handlePatch = () => {\n      const auth = getAuth();\n      const username = auth.username;\n      const token = auth.token;\n      const url = `http://localhost:5000/v1/engineer/`+parseInt(this.state.id)\n      const data = {\n        name: this.state.name,\n        description: this.state.description\n        ,\n        location: this.state.location,\n        birth: this.state.birth\n      }\n      const headers = { Authorization: `Bearer ${auth.token}`};\n\n      axios.patch(url, null, {\n        headers: headers,\n        params: data \n      })\n      .then(res => {\n        Swal.fire({\n          icon: 'success',\n          title:'Success',\n          text:'Profile Updated.'\n        })\n        this.getFetch('http://localhost:5000/v1/engineer')\n      })\n      .catch(err => {\n        Swal.fire ({\n          icon: 'error',\n          title: 'error',\n          text: 'Update Failed.'\n        })\n      })\n    }\n\n    componentDidMount(){\n      this.getFetch(`http://localhost:5000/v1/engineer?limit=${this.state.limit}&page=${this.state.page}`)\n    }\n\n\n    render() {\n      \n      if (!this.state.token) {\n        this.props.history.push('/login');\n      }\n\n\n      //Filter (search)\n      // let filtered = this.state.data.filter(\n      //   (data) => {\n      //     return data.skill&&data.name_engineer.toLowerCase().indexOf(this.state.search.toLowerCase()) !== -1;\n      //   }\n      // )\n\n      return (\n        <Fragment>\n          <AppBar position=\"fixed\" color=\"inherit\">\n            <Toolbar>\n              <div className=\"nav-group\">\n                <img src={logo} className=\"logo\" alt=\"logo\" />\n                <div className=\"search\">\n                  <SearchIcon />\n                  <InputBase\n                    type=\"text\"\n                    placeholder=\"Searchâ€¦\"\n                     value={this.state.search}\n                    onChange={this.handleSearch.bind()}\n                    inputProps={{ 'aria-label': 'search' }}\n                  />\n                </div>\n                <div className=\"home\">\n                \n                  <Button className=\"btn-home\">Home</Button>\n            \n                  <Button className=\"user-detail\">\n                      <Avatar>U</Avatar>\n                      <h4>User</h4>\n                  </Button>\n                  <TypoGraphy className=\"typo-wrap\" variant=\"inherit\" gutterbottom=\"true\">\n                      <hr width=\"1\" size=\"40\" />\n                      <img src={chat} className=\"chat\" alt=\"chat\"></img>\n                      <img src={bell} className=\"notif\" alt=\"bell notif\"></img>\n                  </TypoGraphy>\n                  <Button onClick={this.handleSignout.bind()}\n                  >Logout</Button>\n                </div>\n              </div>\n            </Toolbar>\n          </AppBar>\n\n          {/* <CardList /> */}\n      \n          <Grid className=\"map\">\n\n            {\n                this.state.data.map(data => {\n                    return <Cards key={data.id} name={data.name_engineer}\n                    desc={data.description} skill={data.skill}/>\n                })\n            }\n\n            <div className=\"wrap-form\">\n              <div className=\"group-form-editprofile\">\n                <h2>Edit profile</h2>\n                <p>Companies on Hiring Channel will get to know you with the info below</p>\n                <div className=\"form-editprofile\">\n                  <TextField\n                  label=\"Full Name\"\n                  id=\"outlined-size-small\"\n                  defaultValue={this.state.name}\n                  variant=\"outlined\"\n                  size=\"small\"\n\n                  />\n                  <br/>\n                  <TextField\n                    label=\"Description\"\n                    id=\"outlined-size-small\"\n                    defaultValue={this.state.description}\n                    variant=\"outlined\"\n                    size=\"small\"\n                  />\n                  <br/>\n                  <TextField\n                  label=\"Location\"\n                  id=\"outlined-size-small\"\n                  defaultValue={this.state.location}\n                  variant=\"outlined\"\n                  size=\"small\"\n                  />\n                  <br/>\n                  <TextField\n                  id=\"outlined-size-small\"\n                  type=\"date\"\n                  size=\"small\"\n                  variant=\"outlined\"\n                  label=\"Date of birth\"\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                    // onChange={handleChange('birth')}\n                    defaultValue={this.state.birth}\n                  />\n                  <br/>\n                </div>\n                <div className=\"btn-editprofile\">\n                  <ButtonGroup>\n                    <Button \n                    variant=\"text\" \n                    color=\"secondary\"\n                    //onClick={this.handleRegister}\n                    // onClick={this.continue}\n                    >\n                      Cancel&nbsp;\n                    </Button>\n                    \n                    <Button \n                    variant=\"contained\" \n                    color=\"inherit\"\n                    //onClick={this.handleRegister}\n                    // onClick={this.continue}\n                    >\n                      Done\n                    </Button>\n                  </ButtonGroup>\n                </div>\n              </div>\n              {/* skill */}\n              <div className=\"group-form-editprofile\">\n                <h2>Your Skill</h2>\n                <p>Upgrade more your skill on Hiring Channel, insert below</p>\n                <div className=\"form-editprofile\">\n                  <TextField\n                  label=\"Insert your skill\"\n                  id=\"outlined-size-small\"\n                  defaultValue={this.state.skill}\n                  variant=\"outlined\"\n                  size=\"small\"\n                  />\n                  <br/>\n                </div>\n                <div className=\"btn-editprofile\">\n                  <ButtonGroup>\n                    <Button \n                    variant=\"contained\" \n                    color=\"inherit\"\n                    //onClick={this.handleRegister}\n                    // onClick={this.continue}\n                    >\n                      Done\n                    </Button>\n                  </ButtonGroup>\n                </div>\n              </div>\n            </div>\n          </Grid>\n        </Fragment>\n      )\n    }\n}\n\n\nexport default Engineer"]},"metadata":{},"sourceType":"module"}