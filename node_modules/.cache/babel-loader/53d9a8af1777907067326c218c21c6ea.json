{"ast":null,"code":"var _jsxFileName = \"/home/guswawan/dev/arka/fe-hiringchannel/src/component/Home.jsx\";\nimport React, { Component, Fragment } from 'react';\nimport { Grid } from '@material-ui/core/';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InputBase from '@material-ui/core/InputBase';\nimport TypoGraphy from '@material-ui/core/Typography';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport chat from '../image/chat.png';\nimport bell from '../image/bell.png';\nimport logo from '../image/arkademy-logo.png';\nimport axios from 'axios';\nimport getAuth from '../helpers/auth';\nimport Cards from './Cards';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport '../styles/CardList.css';\nimport '../styles/Home.css';\n\nclass Navbar extends Component {\n  constructor() {\n    super();\n\n    this.sortAscending = () => {\n      const data = this.state.data;\n      console.log(\"DATA \", data);\n      data.sort((a, b) => a - b);\n      this.setState({\n        data\n      });\n    };\n\n    this.sortDescending = () => {\n      const data = this.state.data;\n      data.sort((a, b) => a - b).reverse();\n      this.setState({\n        data\n      });\n    };\n\n    this.handleSearch = e => {\n      console.log(\"VALUES \", e.target.value);\n      this.setState({\n        search: e.target.value\n      });\n    };\n\n    this.limit = e => {\n      console.log(\"Values \", e.target.value);\n      this.setState({\n        limit: e\n      });\n      this.setData(this.state.page);\n    };\n\n    this.page = e => {\n      if (e === 'prev') {\n        this.setState({\n          page: this.state.page - 1\n        });\n      } else if (e === 'next') {\n        this.setState({\n          page: this.state.page + 1\n        });\n      }\n\n      this.setData(this.state.limit, this.state.page);\n    };\n\n    this.handleSignout = e => {\n      this.setState({\n        token: ''\n      });\n      localStorage.clear();\n    };\n\n    this.setData = (limit, page) => {\n      this.getFetch(`http://localhost:5000/engineer?limit=${limit}&page=${page}`);\n    };\n\n    this.state = {\n      data: [],\n      search: '',\n      token: localStorage.getItem('token'),\n      index: 1,\n      disabledNext: false,\n      disabledPrev: false,\n      sortBy: 'name',\n      order: 'asc'\n    };\n  }\n\n  componentDidMount() {\n    this.getFetch('http://localhost:5000/v1/engineer?limit=10&page=1');\n  }\n\n  togglePrev(e) {\n    let index = this.state.index - 1;\n    let disabledPrev = index === 0;\n    this.setState({\n      index: index,\n      disabledPrev: disabledPrev,\n      disabledNext: false\n    });\n  }\n\n  toggleNext(e) {\n    let index = this.state.index + 1;\n    let disabledNext = index === this.props.data.length - 1;\n    this.setState({\n      index: index,\n      disabledNext: disabledNext,\n      disabledPrev: false\n    });\n  }\n\n  getFetch(url) {\n    const auth = getAuth();\n    console.log(\"Get Aouth \", auth);\n    console.log(\"Get Aouth Role\", auth.role);\n    const authRole = auth.role;\n\n    if (authRole === 'company') {\n      axios.get(url, {\n        headers: {\n          Authorization: `Bearer ${auth.token}`\n        }\n      }).then(res => {\n        console.log(\"res axios \", res.data);\n        this.setState({\n          data: res.data.result\n        });\n      });\n    } else if (authRole === 'engineer') {\n      axios.get('http://localhost:5000/v1/engineer/profile', {\n        headers: {\n          Authorization: `Bearer ${auth.token}`\n        }\n      }).then(res => {\n        console.log(\"res axios ke-2 \", res.data.data);\n        this.setState({\n          data: res.data.data\n        });\n      }).catch(err => {\n        console.log(err);\n        this.setState({\n          data: 'Not Found.'\n        });\n      });\n    }\n  }\n\n  render() {\n    if (!this.state.token) {\n      this.props.history.push('/login');\n    }\n\n    let filtered = this.state.data.filter(data => {\n      return data.name_engineer.toLowerCase().indexOf(this.state.search.toLowerCase()) !== -1;\n    });\n    const _this$state = this.state,\n          index = _this$state.index,\n          disabledPrev = _this$state.disabledPrev,\n          disabledNext = _this$state.disabledNext;\n    const data = this.props.data ? this.props.data[index] : null;\n\n    if (data) {\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        position: \"fixed\",\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"nav-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: logo,\n        className: \"logo\",\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(SearchIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }), React.createElement(InputBase, {\n        type: \"text\",\n        placeholder: \"Search\\u2026\",\n        value: this.state.search,\n        onChange: this.handleSearch.bind(),\n        inputProps: {\n          'aria-label': 'search'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(TypoGraphy, {\n        variant: \"inherit\",\n        gutterbottom: \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Home\")), React.createElement(TypoGraphy, {\n        className: \"user-detail\",\n        variant: \"inherit\",\n        gutterbottom: \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"U\"), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"User\")), React.createElement(TypoGraphy, {\n        className: \"typo-wrap\",\n        variant: \"inherit\",\n        gutterbottom: \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"hr\", {\n        width: \"1\",\n        size: \"40\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        src: chat,\n        className: \"chat\",\n        alt: \"chat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        src: bell,\n        className: \"notif\",\n        alt: \"bell notif\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      })), React.createElement(Button, {\n        onClick: this.handleSignout.bind(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"Logout\"))))), React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.sortAscending,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"ASC\"), React.createElement(Button, {\n        onClick: this.sortDescending,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"DSC\"))), React.createElement(Grid, {\n        className: \"map\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, filtered && filtered.map(data => {\n        return React.createElement(Cards, {\n          key: data.id,\n          name: data.name_engineer,\n          desc: data.description,\n          skill: data.skill,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        });\n      })), \") }\", React.createElement(\"div\", {\n        className: \"button-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(ButtonGroup, {\n        variant: \"contained\",\n        color: \"primary\",\n        \"aria-label\": \"contained primary button group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(Button, {\n        name: \"prev\",\n        onClick: e => {\n          this.page(e.target.name);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, \"Prev\"), React.createElement(Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \" \"), React.createElement(Button, {\n        name: \"next\",\n        onClick: e => {\n          this.page(e.target.name);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, \"Next\"))));\n    }\n  }\n\n}\n\nexport default Navbar;","map":{"version":3,"sources":["/home/guswawan/dev/arka/fe-hiringchannel/src/component/Home.jsx"],"names":["React","Component","Fragment","Grid","AppBar","Toolbar","SearchIcon","InputBase","TypoGraphy","Avatar","Button","chat","bell","logo","axios","getAuth","Cards","ButtonGroup","Navbar","constructor","sortAscending","data","state","console","log","sort","a","b","setState","sortDescending","reverse","handleSearch","e","target","value","search","limit","setData","page","handleSignout","token","localStorage","clear","getFetch","getItem","index","disabledNext","disabledPrev","sortBy","order","componentDidMount","togglePrev","toggleNext","props","length","url","auth","role","authRole","get","headers","Authorization","then","res","result","catch","err","render","history","push","filtered","filter","name_engineer","toLowerCase","indexOf","bind","map","id","description","skill","name"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { Grid } from '@material-ui/core/';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InputBase from '@material-ui/core/InputBase';\nimport TypoGraphy from '@material-ui/core/Typography';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport chat from '../image/chat.png';\nimport bell from '../image/bell.png';\nimport logo from '../image/arkademy-logo.png';\nimport axios from 'axios';\nimport getAuth from '../helpers/auth';\nimport Cards from './Cards';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport '../styles/CardList.css';\n\nimport '../styles/Home.css';\n\n\nclass Navbar extends Component {\n    constructor() {\n      super()\n      this.state = {\n          data: [],\n          search: '',\n          token: localStorage.getItem('token'),\n          index: 1,\n          disabledNext: false,\n          disabledPrev: false,\n          sortBy: 'name',\n          order: 'asc'\n      }\n  }\n\n  componentDidMount(){\n    this.getFetch('http://localhost:5000/v1/engineer?limit=10&page=1')\n  }\n\n  togglePrev(e) {\n    let index = this.state.index - 1;\n    let disabledPrev = (index === 0);\n\n    this.setState({ \n      index: index, \n      disabledPrev: disabledPrev,\n      disabledNext: false\n    })\n  }\n\n  toggleNext(e) {\n    let index = this.state.index + 1;\n    let disabledNext = index === (this.props.data.length - 1)\n\n    this.setState({ \n      index: index,\n      disabledNext: disabledNext,\n      disabledPrev: false\n    })\n  }\n\n  sortAscending = () => {\n    const { data } = this.state;\n    console.log(\"DATA \",data)\n    data.sort((a, b) => a - b)\n    this.setState({ data })\n  }\n\n  sortDescending = () => {\n    const { data } = this.state;\n    data.sort((a, b) => a-b).reverse()\n    this.setState({ data })\n  }\n\n  handleSearch = (e) => {\n    console.log(\"VALUES \", e.target.value)\n    this.setState({search: e.target.value})\n  }\n\n  limit = (e) => {\n    console.log(\"Values \",e.target.value)\n    this.setState({limit: e})\n    this.setData( this.state.page )\n  }\n\n  page = (e) => {\n    if(e === 'prev'){\n      this.setState({page: this.state.page - 1})\n    } else if(e === 'next'){\n      this.setState({page:this.state.page + 1})\n    }\n    this.setData( this.state.limit, this.state.page )\n  }\n\n  handleSignout = (e) => {\n    this.setState({ token: '' });\n    localStorage.clear();\n  }\n\n  getFetch(url){\n      const auth = getAuth();\n      console.log(\"Get Aouth \",auth)\n      console.log(\"Get Aouth Role\",auth.role)\n      const authRole = auth.role\n      if (authRole === 'company') {\n          axios.get(url, { headers: { Authorization: `Bearer ${auth.token}`}})\n          .then(res => {\n              console.log(\"res axios \",res.data)\n              this.setState({\n                  data: res.data.result \n              })\n          })\n      } else if (authRole === 'engineer') {\n          axios.get('http://localhost:5000/v1/engineer/profile', { headers: { Authorization: `Bearer ${auth.token}`}})\n          .then(res => {\n              console.log(\"res axios ke-2 \", res.data.data)\n              this.setState({\n                  data:res.data.data\n              })\n          })\n          .catch(err => {\n              console.log(err)\n              this.setState({\n                data: 'Not Found.'\n              })\n          })\n      }\n  }\n\n  setData = ( limit, page ) => {\n    this.getFetch(`http://localhost:5000/engineer?limit=${limit}&page=${page}`)\n  }\n\n\n\n\n    render() {\n      if (!this.state.token) {\n        this.props.history.push('/login');\n      }\n\n\n      let filtered = this.state.data.filter(\n        (data) => {\n          return data.name_engineer.toLowerCase().indexOf(this.state.search.toLowerCase()) !== -1;\n        }\n      )\n\n      const { index, disabledPrev, disabledNext } = this.state\n      const data = this.props.data ? this.props.data[index]: null\n\n      if (data) {\n\n      return (\n        <Fragment>\n          <AppBar position=\"fixed\" color=\"inherit\">\n            <Toolbar>\n              <div className=\"nav-group\">\n                <img src={logo} className=\"logo\" alt=\"logo\" />\n                <div className=\"search\">\n                  <SearchIcon />\n                  <InputBase\n                    type=\"text\"\n                    placeholder=\"Searchâ€¦\"\n                     value={this.state.search}\n              onChange={this.handleSearch.bind()}\n                    inputProps={{ 'aria-label': 'search' }}\n                  />\n                </div>\n                <div className=\"home\">\n                  <TypoGraphy variant=\"inherit\" gutterbottom=\"true\">\n                    <h4>Home</h4>\n                  </TypoGraphy>\n                  <TypoGraphy className=\"user-detail\" variant=\"inherit\" gutterbottom=\"true\">\n                      <Avatar>U</Avatar>\n                      <h4>User</h4>\n                  </TypoGraphy>\n                  <TypoGraphy className=\"typo-wrap\" variant=\"inherit\" gutterbottom=\"true\">\n                      <hr width=\"1\" size=\"40\" />\n                      <img src={chat} className=\"chat\" alt=\"chat\"></img>\n                      <img src={bell} className=\"notif\" alt=\"bell notif\"></img>\n                  </TypoGraphy>\n                  <Button onClick={this.handleSignout.bind()}\n                  >Logout</Button>\n                </div>\n              </div>\n            </Toolbar>\n          </AppBar>\n\n          {/* <CardList /> */}\n          <Grid>\n          <div>\n              <Button onClick={this.sortAscending}>ASC</Button>\n              <Button onClick={this.sortDescending}>DSC</Button>\n            </div>\n          </Grid>\n          \n          <Grid className=\"map\">\n            \n            {\n                filtered && filtered.map(data => {\n                    return <Cards key={data.id} name={data.name_engineer}\n                    desc={data.description} skill={data.skill}/>\n                })\n            }\n            \n            </Grid>\n         \n  \n       )\n     }\n            <div className=\"button-page\">\n            <ButtonGroup \n              variant=\"contained\" \n              color=\"primary\" \n              aria-label=\"contained primary button group\">\n              <Button \n                name=\"prev\"\n                onClick={(e) => {this.page(e.target.name)}}\n                >Prev</Button>\n              <Button> </Button>\n              <Button \n              name=\"next\"\n              onClick={(e) => {this.page(e.target.name)}}>Next</Button>\n            </ButtonGroup>\n          </div>\n\n          \n        </Fragment>\n      )\n    }\n  }\n}\n\n\nexport default Navbar"]},"metadata":{},"sourceType":"module"}